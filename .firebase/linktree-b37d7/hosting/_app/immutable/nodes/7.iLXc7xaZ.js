import{s as lt,v as ut,h as dt,e as p,t as F,i as M,a as h,b as E,j as N,k as D,l as st,d as b,w as mt}from"../chunks/scheduler.DfGOlq3b.js";import{S as ft,i as pt,d as K,v as ht,g as bt,h as vt,m as _t,t as gt,e as wt,j as yt,a as w,b as v,c as Et,f as i,s as V,p as At}from"../chunks/index.BzQEtMZ_.js";import{p as X}from"../chunks/stores.i5K_SLPl.js";import{p as xt,i as Pt,a as Ct}from"../chunks/entry.B-iXNfBq.js";import{A as rt}from"../chunks/AnimatedRoute.BjsYX6kl.js";function St(e){const t=JSON.parse(e);return t.data&&(t.data=xt(t.data)),t}function q(e){return HTMLElement.prototype.cloneNode.call(e)}function it(e,t=()=>{}){if(q(e).method!=="post")throw new Error('use:enhance can only be used on <form> fields with method="POST"');const c=async({action:a,result:o,reset:r=!0,invalidateAll:l=!0})=>{o.type==="success"&&(r&&HTMLFormElement.prototype.reset.call(e),l&&await Pt()),(location.origin+location.pathname===a.origin+a.pathname||o.type==="redirect"||o.type==="error")&&Ct(o)};async function m(a){var x,T,j,f;if(((x=a.submitter)!=null&&x.hasAttribute("formmethod")?a.submitter.formMethod:q(e).method)!=="post")return;a.preventDefault();const r=new URL((T=a.submitter)!=null&&T.hasAttribute("formaction")?a.submitter.formAction:q(e).action),l=new FormData(e);if(q(e).enctype!=="multipart/form-data"){for(const n of l.values())if(n instanceof File)throw new Error('Your form contains <input type="file"> fields, but is missing the necessary `enctype="multipart/form-data"` attribute. This will lead to inconsistent behavior between enhanced and native forms. For more details, see https://github.com/sveltejs/kit/issues/9819.')}const s=(j=a.submitter)==null?void 0:j.getAttribute("name");s&&l.append(s,((f=a.submitter)==null?void 0:f.getAttribute("value"))??"");const k=new AbortController;let A=!1;const R=await t({action:r,cancel:()=>A=!0,controller:k,formData:l,formElement:e,submitter:a.submitter})??c;if(A)return;let d;try{const n=await fetch(r,{method:"POST",headers:{accept:"application/json","x-sveltekit-action":"true"},cache:"no-store",body:l,signal:k.signal});d=St(await n.text()),d.type==="error"&&(d.status=n.status)}catch(n){if((n==null?void 0:n.name)==="AbortError")return;d={type:"error",error:n}}R({action:r,formData:l,formElement:e,update:n=>c({action:r,result:d,reset:n==null?void 0:n.reset,invalidateAll:n==null?void 0:n.invalidateAll}),result:d})}return HTMLFormElement.prototype.addEventListener.call(e,"submit",m),{destroy(){HTMLFormElement.prototype.removeEventListener.call(e,"submit",m)}}}const _="src/routes/[username]/bio/+page.svelte";function ct(e){var et;let t,c,m,a,o=e[0].bio+"",r,l,s,k,A=e[1].status+"",O,R,d,x=(((et=e[1].form)==null?void 0:et.problem)??"")+"",T,j,f,n,P,C,Q="Your bio",I,y,$,Y,S,W="Update Bio",z,Z;const tt={c:function(){t=p("main"),c=p("p"),m=F("Current Bio: "),a=p("span"),r=F(o),l=M(),s=p("p"),k=F("Status Code: "),O=F(A),R=M(),d=p("p"),T=F(x),j=M(),f=p("form"),n=p("div"),P=p("label"),C=p("span"),C.textContent=Q,I=M(),y=p("textarea"),Y=M(),S=p("button"),S.textContent=W,this.h()},l:function(g){t=h(g,"MAIN",{class:!0});var u=E(t);c=h(u,"P",{});var L=E(c);m=N(L,"Current Bio: "),a=h(L,"SPAN",{class:!0});var at=E(a);r=N(at,o),at.forEach(w),L.forEach(w),l=D(u),s=h(u,"P",{});var J=E(s);k=N(J,"Status Code: "),O=N(J,A),J.forEach(w),R=D(u),d=h(u,"P",{class:!0});var nt=E(d);T=N(nt,x),nt.forEach(w),j=D(u),f=h(u,"FORM",{method:!0});var H=E(f);n=h(H,"DIV",{class:!0});var U=E(n);P=h(U,"LABEL",{for:!0,class:!0});var ot=E(P);C=h(ot,"SPAN",{class:!0,"data-svelte-h":!0}),st(C)!=="svelte-270kv4"&&(C.textContent=Q),ot.forEach(w),I=D(U),y=h(U,"TEXTAREA",{name:!0,class:!0}),E(y).forEach(w),U.forEach(w),Y=D(H),S=h(H,"BUTTON",{class:!0,"data-svelte-h":!0}),st(S)!=="svelte-tqnit3"&&(S.textContent=W),H.forEach(w),u.forEach(w),this.h()},h:function(){v(a,"class","text-info"),b(a,_,10,18,274),b(c,_,10,2,258),b(s,_,11,2,322),v(d,"class","text-error"),b(d,_,12,2,359),v(C,"class","label-text"),b(C,_,17,8,527),v(P,"for","bio"),v(P,"class","label"),b(P,_,16,6,487),v(y,"name","bio"),v(y,"class","textarea textarea-bordered textarea-accent"),y.value=$=e[0].bio,b(y,_,19,6,589),v(n,"class","form-control"),b(n,_,15,4,454),v(S,"class","btn btn-primary my-5"),b(S,_,21,4,695),v(f,"method","POST"),b(f,_,14,2,416),v(t,"class","max-w-lg prose text-center mx-auto my-6"),b(t,_,9,0,201)},m:function(g,u){Et(g,t,u),i(t,c),i(c,m),i(c,a),i(a,r),i(t,l),i(t,s),i(s,k),i(s,O),i(t,R),i(t,d),i(d,T),i(t,j),i(t,f),i(f,n),i(n,P),i(P,C),i(n,I),i(n,y),i(f,Y),i(f,S),z||(Z=mt(it.call(null,f)),z=!0)},p:function(g,u){var L;u&1&&o!==(o=g[0].bio+"")&&V(r,o),u&2&&A!==(A=g[1].status+"")&&V(O,A),u&2&&x!==(x=(((L=g[1].form)==null?void 0:L.problem)??"")+"")&&V(T,x),u&1&&$!==($=g[0].bio)&&At(y,"value",$)},d:function(g){g&&w(t),z=!1,Z()}};return K("SvelteRegisterBlock",{block:tt,id:ct.name,type:"slot",source:"(6:0) <AnimatedRoute>",ctx:e}),tt}function G(e){let t,c;t=new rt({props:{$$slots:{default:[ct]},$$scope:{ctx:e}},$$inline:!0});const m={c:function(){bt(t.$$.fragment)},l:function(o){vt(t.$$.fragment,o)},m:function(o,r){_t(t,o,r),c=!0},p:function(o,[r]){const l={};r&7&&(l.$$scope={dirty:r,ctx:o}),t.$set(l)},i:function(o){c||(gt(t.$$.fragment,o),c=!0)},o:function(o){wt(t.$$.fragment,o),c=!1},d:function(o){yt(t,o)}};return K("SvelteRegisterBlock",{block:m,id:G.name,type:"component",source:"",ctx:e}),m}function Tt(e,t,c){let m;ut(X,"page"),dt(e,X,s=>c(1,m=s));let{$$slots:a={},$$scope:o}=t;ht("Page",a,[]);let{data:r}=t;e.$$.on_mount.push(function(){r===void 0&&!("data"in t||e.$$.bound[e.$$.props.data])&&console.warn("<Page> was created without expected prop 'data'")});const l=["data"];return Object.keys(t).forEach(s=>{!~l.indexOf(s)&&s.slice(0,2)!=="$$"&&s!=="slot"&&console.warn(`<Page> was created with unknown prop '${s}'`)}),e.$$set=s=>{"data"in s&&c(0,r=s.data)},e.$capture_state=()=>({page:X,enhance:it,AnimatedRoute:rt,data:r,$page:m}),e.$inject_state=s=>{"data"in s&&c(0,r=s.data)},t&&"$$inject"in t&&e.$inject_state(t.$$inject),[r,m]}class Bt extends ft{constructor(t){super(t),pt(this,t,Tt,G,lt,{data:0}),K("SvelteRegisterComponent",{component:this,tagName:"Page",options:t,id:G.name})}get data(){throw new Error("<Page>: Props cannot be read directly from the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}set data(t){throw new Error("<Page>: Props cannot be set directly on the component instance unless compiling with 'accessors: true' or '<svelte:options accessors/>'")}}export{Bt as component};
